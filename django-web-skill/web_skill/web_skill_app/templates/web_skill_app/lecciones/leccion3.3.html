


    <div class="flex-1 p-8 overflow-y-auto" id="slide-container">
        
        <div class="slide-content hidden" id="slide-1">
            <div class="h-full flex flex-col justify-center items-center text-center">
                <h1 class="text-5xl font-bold text-blue-100 mb-4">Lección 3.3</h1>
                <h2 class="text-3xl font-semibold text-blue-200">Inferencia a la Mejor Explicación (IBE)</h2>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-2">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Introducción: El Detective del Pensamiento Crítico</h2>
            <p class="text-lg text-blue-50 leading-relaxed mb-4">
                Hemos explorado el razonamiento inductivo y deductivo. Ahora, nos adentramos en una de las formas más potentes de razonamiento: la <span class="font-bold text-yellow-300">Inferencia a la Mejor Explicación (IBE)</span>.
            </p>
            <p class="text-lg text-blue-50 leading-relaxed">
                Esta habilidad es fundamental. Nos permite ir más allá de la mera observación y llegar a conclusiones justificadas sobre *por qué* esos hechos son como son, eligiendo la <span class="font-bold text-yellow-300">explicación más plausible</span> entre varias alternativas.
            </p>
        </div>

        <div class="slide-content hidden" id="slide-3">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">1. ¿Qué es la Inferencia a la Mejor Explicación (IBE)?</h2>
            <p class="text-lg text-blue-50 leading-relaxed mb-6">
                La IBE es un tipo de razonamiento inductivo donde, dadas unas observaciones, inferimos que la hipótesis que <span class="font-bold text-yellow-300">mejor explica</span> esos hechos es la más probable que sea verdadera.
            </p>
            <div class="bg-blue-800 bg-opacity-40 p-5 rounded-lg">
                <h3 class="text-xl font-bold text-yellow-300 mb-3">Diferencia clave:</h3>
                <p class="text-base text-blue-50 leading-relaxed">
                    No es una deducción que garantice la verdad, sino una inferencia que nos lleva a la conclusión <span class="font-bold text-yellow-300">más razonable o plausible</span>. Es el proceso mental que usamos para elegir la "historia" que mejor conecta todas las pistas.
                </p>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-4">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Ejemplos: IBE vs Conclusión Precipitada</h2>
            <div class="space-y-6 text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-yellow-300 mb-2">✓ Ejemplo de Pensamiento Crítico (IBE):</h3>
                    <p class="text-base text-blue-50 leading-relaxed">Llegas a casa: puerta abierta, luces encendidas, perro ladrando. Hipótesis: 1) Ladrón, 2) Tu pareja olvidó cerrar, 3) Viento. Si no falta nada y tu perro está feliz, la hipótesis 2 es la <span class="font-bold text-yellow-300">mejor explicación</span>.</p>
                </div>
                <div class="bg-red-900 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-red-300 mb-2">✗ Ejemplo de No-Pensamiento Crítico (Falta de IBE):</h3>
                    <p class="text-base text-blue-50 leading-relaxed">Ante la misma situación, saltas inmediatamente a la conclusión: "¡Entró un ladrón!". Esta es una conclusión precipitada que ignora la evidencia (no falta nada) y no considera explicaciones alternativas más simples.</p>
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-5">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">2. Los Criterios de una "Mejor Explicación"</h2>
             <p class="text-lg text-blue-50 leading-relaxed mb-6">
                Para que una explicación sea la "mejor", debe satisfacer ciertos criterios. No se trata solo de que sea *posible*, sino de que sea la *más probable* y *robusta*.
            </p>
            <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                <span class="font-bold text-yellow-300">• Poder Explicativo:</span> La mejor explicación es aquella que da cuenta de la *mayor cantidad* de evidencia observada. Debe integrar todas las piezas del rompecabezas.
            </div>
        </div>

        <div class="slide-content hidden" id="slide-6">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Criterios de una "Mejor Explicación" (cont.)</h2>
            <div class="space-y-3 text-base text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Simplicidad (Navaja de Ockham):</span> Entre dos explicaciones con el mismo poder, la más simple (la que requiere menos suposiciones) suele ser la preferida.
                </div>
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Coherencia y Consistencia:</span> Debe ser coherente con nuestro conocimiento de fondo ya establecido (ej. principios científicos o lógicos).
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-7">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Criterios de una "Mejor Explicación" (cont.)</h2>
            <div class="space-y-3 text-base text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Falsabilidad / Testabilidad:</span> Una buena explicación debe ser susceptible de ser probada o refutada. Si una explicación es tan vaga que puede explicar todo, no explica nada.
                </div>
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Poder Predictivo:</span> Una explicación fuerte no solo explica lo que ya sabemos, sino que también puede predecir nuevas observaciones.
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-8">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Ejemplos: Aplicando los Criterios</h2>
            <div class="space-y-6 text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-yellow-300 mb-2">✓ Ejemplo de Pensamiento Crítico (IBE Médica):</h3>
                    <p class="text-base text-blue-50 leading-relaxed">Paciente con fiebre, tos y dificultad para respirar. El médico considera: Resfriado, Gripe, Neumonía. La <span class="font-bold text-yellow-300">Neumonía</span> es la mejor explicación: tiene el mayor *poder explicativo* (cubre todos los síntomas) y es *testable* (radiografía).</p>
                </div>
                <div class="bg-red-900 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-red-300 mb-2">✗ Ejemplo de No-Pensamiento Crítico (Ignorar Criterios):</h3>
                    <p class="text-base text-blue-50 leading-relaxed">La misma persona se autodiagnostica con una "enfermedad rara de internet". Esta explicación ignora la *simplicidad* (es menos probable que una gripe) y la *coherencia* con los síntomas comunes.</p>
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-9">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">3. IBE en la Práctica: De la Ciencia a la Vida</h2>
            <p class="text-lg text-blue-50 leading-relaxed mb-6">
                La IBE es la base del razonamiento científico, de los diagnósticos médicos y de la resolución de problemas diarios.
            </p>
            <div class="bg-blue-800 bg-opacity-40 p-5 rounded-lg">
                <h3 class="text-xl font-bold text-yellow-300 mb-3">El Proceso de IBE:</h3>
                <ol class="space-y-2 text-base text-blue-50 list-decimal list-inside">
                    <li class="text-blue-50">Recopilar evidencia (Observar los hechos).</li>
                    <li class="text-blue-50">Generar hipótesis alternativas (Pensar posibles explicaciones).</li>
                    <li class="text-blue-50">Evaluar las hipótesis (Aplicar los criterios).</li>
                    <li class="text-blue-50">Seleccionar la mejor (Elegir la más plausible).</li>
                </ol>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-10">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Ejemplos: IBE en la Vida Cotidiana</h2>
            <div class="space-y-6 text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-yellow-300 mb-2">✓ Ejemplo de Pensamiento Crítico:</h3>
                    <p class="text-base text-blue-50 leading-relaxed mb-2"><span class="font-semibold">Observación:</span> Tu coche no arranca y las luces del tablero apenas encienden.</p>
                    <p class="text-base text-blue-50 leading-relaxed"><span class="font-semibold">Evaluación (IBE):</span> La hipótesis "batería descargada" es la <span class="font-bold text-yellow-300">mejor explicación</span> porque da cuenta de *ambos* hechos de la forma más simple.</p>
                </div>
                <div class="bg-red-900 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-red-300 mb-2">✗ Ejemplo de No-Pensamiento Crítico:</h3>
                    <p class="text-base text-blue-50 leading-relaxed">La persona inmediatamente asume: "El motor está roto". Esta explicación ignora la evidencia de las luces débiles y salta a la conclusión más compleja y menos probable.</p>
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-11">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">4. Desafíos y Trampas en la Aplicación de IBE</h2>
            <p class="text-lg text-blue-50 leading-relaxed mb-6">
                El Pensamiento Crítico nos exige ser conscientes de las trampas que nos llevan a elegir una explicación deficiente.
            </p>
            <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                <span class="font-bold text-yellow-300">• Sesgo de Confirmación:</span> La tendencia a buscar evidencia que confirme nuestras creencias preexistentes e ignorar la que las contradice.
            </div>
        </div>

        <div class="slide-content hidden" id="slide-12">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Desafíos y Trampas en IBE (cont.)</h2>
            <div class="space-y-3 text-base text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Ignorar Alternativas:</span> No generar suficientes hipótesis competidoras. Una explicación solo es la "mejor" si se ha comparado con otras.
                </div>
            </div>
        </div>
        
        <div class="slide-content hidden" id="slide-13">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Desafíos y Trampas en IBE (cont.)</h2>
            <div class="space-y-3 text-base text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Evidencia Insuficiente:</span> Inferir una explicación sin tener suficientes datos para respaldarla (por ejemplo, basarse solo en anécdotas).
                </div>
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg text-blue-50">
                    <span class="font-bold text-yellow-300">• Falta de Rigor:</span> No aplicar los criterios (simplicidad, coherencia) de manera estricta, aceptando explicaciones vagas o inconsistentes.
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-14">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Ejemplos: Superar las Trampas</h2>
            <div class="space-y-6 text-blue-50">
                <div class="bg-blue-800 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-yellow-300 mb-2">✓ Ejemplo de Pensamiento Crítico (Evitar Sesgos):</h3>
                    <p class="text-base text-blue-50 leading-relaxed">Las ventas bajan. La primera idea es "la publicidad es ineficaz". Un pensador crítico *conscientemente* busca otras explicaciones (precio de competencia, calidad). Su disposición a <span class="font-bold text-yellow-300">considerar alternativas</span> lo llevó a la mejor explicación.</p>
                </div>
                <div class="bg-red-900 bg-opacity-40 p-4 rounded-lg">
                    <h3 class="text-xl font-semibold text-red-300 mb-2">✗ Ejemplo de No-Pensamiento Crítico (Caer en Trampas):</h3>
                    <p class="text-base text-blue-50 leading-relaxed">La persona se aferra a su idea inicial ("la publicidad es ineficaz") debido al <span class="font-bold text-red-300">sesgo de confirmación</span>. Solo busca datos que apoyen esta idea. Invierte recursos en una solución incorrecta.</p>
                </div>
            </div>
        </div>

        <div class="slide-content hidden" id="slide-15">
            <h2 class="text-3xl font-bold text-blue-100 mb-6">Conclusión</h2>
            <div class="h-full flex flex-col justify-center">
                <p class="text-xl text-blue-50 leading-relaxed text-center max-w-3xl mx-auto mb-6">
                    La Inferencia a la Mejor Explicación integra la <span class="font-bold text-yellow-300">evaluación de la evidencia</span>, la <span class="font-bold text-yellow-300">identificación de argumentos</span> y la <span class="font-bold text-yellow-300">consideración de sesgos</span>.
                </p>
                <p class="text-xl text-blue-50 leading-relaxed text-center max-w-3xl mx-auto">
                    Al dominarla, nos equipamos para dar sentido a la complejidad del mundo de una manera más profunda, racional y efectiva.
                </p>
            </div>
        </div>

    </div>

    <div class="flex justify-end items-center gap-3 to-blue-700">
        <button onclick="saltarLeccion()" 
            class="flex items-center gap-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover:scale-105 transition-transform shadow-lg shadow-purple-500/20">
            Completar y Siguiente ➔
        </button>
        <button id="prevSlide" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow transition-all duration-300 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
            Anterior
        </button>
        <span id="slideCounter" class="text-white font-semibold">1 / 15</span>
        <button id="nextSlide" class="bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg shadow transition-all duration-300 flex items-center gap-2">
            Siguiente
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
        </button>
    </div>

    <script>
(function() {
    'use strict';
    
    console.log('Script de lección cargado');
    
    // Esperar a que el contenido esté completamente renderizado
    setTimeout(function() {
        inicializarNavegacionLeccion();
    }, 200);

    function inicializarNavegacionLeccion() {
        console.log('=== Iniciando navegación de lección ===');
        
        // Buscar slides dentro del contenedor de pizarra
        const pizarraContent = document.getElementById('pizarra-content');
        if (!pizarraContent) {
            console.error('No se encontró pizarra-content');
            return;
        }
        
        const slides = pizarraContent.querySelectorAll('.slide-content');
        const totalSlides = slides.length;
        
        console.log('Total de slides encontrados:', totalSlides);
        
        if (totalSlides === 0) {
            console.error('No hay slides para mostrar');
            return;
        }
        
        // Usar variable local dentro de la función
        var currentSlide = 1;

        function showSlide(n) {
            if (n < 1) n = 1;
            if (n > totalSlides) n = totalSlides;
            currentSlide = n;

            slides.forEach(slide => slide.classList.add('hidden'));

            const slideToShow = pizarraContent.querySelector('#slide-' + n);
            if (slideToShow) {
                slideToShow.classList.remove('hidden');
                console.log('✓ Slide', n, 'visible');
            }

            const counter = document.getElementById('slideCounter');
            if (counter) counter.textContent = n + ' / ' + totalSlides;

            const prevBtn = document.getElementById('prevSlide');
            const nextBtn = document.getElementById('nextSlide');
            
            if (prevBtn && nextBtn) {
                prevBtn.disabled = n === 1;
                nextBtn.disabled = n === totalSlides;
                
                if (n === 1) {
                    prevBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    prevBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
                
                if (n === totalSlides) {
                    nextBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    nextBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
            }

            // --- NUEVO CÓDIGO AQUÍ: CONTROLAR BOTÓN FINALIZAR ---
            // Buscamos el botón por la clase marcadora 'js-finish-btn'
            const finishBtn = document.querySelector('.js-finish-btn');
            
            if (finishBtn) {
                // Si estamos en el último slide (n === totalSlides), mostramos el botón
                if (n === totalSlides) {
                    finishBtn.classList.remove('hidden');
                } else {
                    // Si NO estamos en el último, lo ocultamos
                    finishBtn.classList.add('hidden');
                }
            }
            // ----------------------------------------------------

            if (pizarraContent) pizarraContent.scrollTop = 0;
        }

        const prevBtn = document.getElementById('prevSlide');
        if (prevBtn) {
            const newPrevBtn = prevBtn.cloneNode(true);
            prevBtn.parentNode.replaceChild(newPrevBtn, prevBtn);
            newPrevBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                if (currentSlide > 1) showSlide(currentSlide - 1);
            });
            console.log('✓ Botón Anterior configurado');
        }

        const nextBtn = document.getElementById('nextSlide');
        if (nextBtn) {
            const newNextBtn = nextBtn.cloneNode(true);
            nextBtn.parentNode.replaceChild(newNextBtn, nextBtn);
            newNextBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                if (currentSlide < totalSlides) showSlide(currentSlide + 1);
            });
            console.log('✓ Botón Siguiente configurado');
        }

        showSlide(1);
        console.log('=== Navegación inicializada ===');
    }
})();
</script>
